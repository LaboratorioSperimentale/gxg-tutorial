{"version":3,"file":"5649.bundle.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/lib/settingregistry.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/lib/tokens.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/ajv.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/codegen/code.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/codegen/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/codegen/scope.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/errors.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/names.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/ref_error.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/resolve.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/rules.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/util.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/applicability.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/dataType.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/defaults.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/keyword.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/subschema.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/core.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/equal.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/ucs2length.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/uri.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/validation_error.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/code.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/core/id.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/core/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/draft7.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/format/format.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/format/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/metadata.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/json-schema-traverse/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/json5/dist/index.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { CommandRegistry } from '@lumino/commands';\nimport { JSONExt } from '@lumino/coreutils';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { Signal } from '@lumino/signaling';\nimport Ajv from 'ajv';\nimport * as json5 from 'json5';\nimport SCHEMA from './plugin-schema.json';\n/**\n * An alias for the JSON deep copy function.\n */\nconst copy = JSONExt.deepCopy;\n/** Default arguments for Ajv instances.\n *\n * https://ajv.js.org/options.html\n */\nconst AJV_DEFAULT_OPTIONS = {\n    /**\n     * @todo the implications of enabling strict mode are beyond the scope of\n     *       the initial PR\n     */\n    strict: false\n};\n/**\n * The default number of milliseconds before a `load()` call to the registry\n * will wait before timing out if it requires a transformation that has not been\n * registered.\n */\nconst DEFAULT_TRANSFORM_TIMEOUT = 1000;\n/**\n * The ASCII record separator character.\n */\nconst RECORD_SEPARATOR = String.fromCharCode(30);\n/**\n * The default implementation of a schema validator.\n */\nexport class DefaultSchemaValidator {\n    /**\n     * Instantiate a schema validator.\n     */\n    constructor() {\n        this._composer = new Ajv({\n            useDefaults: true,\n            ...AJV_DEFAULT_OPTIONS\n        });\n        this._validator = new Ajv({ ...AJV_DEFAULT_OPTIONS });\n        this._composer.addSchema(SCHEMA, 'jupyterlab-plugin-schema');\n        this._validator.addSchema(SCHEMA, 'jupyterlab-plugin-schema');\n    }\n    /**\n     * Validate a plugin's schema and user data; populate the `composite` data.\n     *\n     * @param plugin - The plugin being validated. Its `composite` data will be\n     * populated by reference.\n     *\n     * @param populate - Whether plugin data should be populated, defaults to\n     * `true`.\n     *\n     * @returns A list of errors if either the schema or data fail to validate or\n     * `null` if there are no errors.\n     */\n    validateData(plugin, populate = true) {\n        const validate = this._validator.getSchema(plugin.id);\n        const compose = this._composer.getSchema(plugin.id);\n        // If the schemas do not exist, add them to the validator and continue.\n        if (!validate || !compose) {\n            if (plugin.schema.type !== 'object') {\n                const keyword = 'schema';\n                const message = `Setting registry schemas' root-level type must be ` +\n                    `'object', rejecting type: ${plugin.schema.type}`;\n                return [{ instancePath: 'type', keyword, schemaPath: '', message }];\n            }\n            const errors = this._addSchema(plugin.id, plugin.schema);\n            return errors || this.validateData(plugin);\n        }\n        // Parse the raw commented JSON into a user map.\n        let user;\n        try {\n            user = json5.parse(plugin.raw);\n        }\n        catch (error) {\n            if (error instanceof SyntaxError) {\n                return [\n                    {\n                        instancePath: '',\n                        keyword: 'syntax',\n                        schemaPath: '',\n                        message: error.message\n                    }\n                ];\n            }\n            const { column, description } = error;\n            const line = error.lineNumber;\n            return [\n                {\n                    instancePath: '',\n                    keyword: 'parse',\n                    schemaPath: '',\n                    message: `${description} (line ${line} column ${column})`\n                }\n            ];\n        }\n        if (!validate(user)) {\n            return validate.errors;\n        }\n        // Copy the user data before merging defaults into composite map.\n        const composite = copy(user);\n        if (!compose(composite)) {\n            return compose.errors;\n        }\n        if (populate) {\n            plugin.data = { composite, user };\n        }\n        return null;\n    }\n    /**\n     * Add a schema to the validator.\n     *\n     * @param plugin - The plugin ID.\n     *\n     * @param schema - The schema being added.\n     *\n     * @returns A list of errors if the schema fails to validate or `null` if there\n     * are no errors.\n     *\n     * #### Notes\n     * It is safe to call this function multiple times with the same plugin name.\n     */\n    _addSchema(plugin, schema) {\n        const composer = this._composer;\n        const validator = this._validator;\n        const validate = validator.getSchema('jupyterlab-plugin-schema');\n        // Validate against the main schema.\n        if (!validate(schema)) {\n            return validate.errors;\n        }\n        // Validate against the JSON schema meta-schema.\n        if (!validator.validateSchema(schema)) {\n            return validator.errors;\n        }\n        // Remove if schema already exists.\n        composer.removeSchema(plugin);\n        validator.removeSchema(plugin);\n        // Add schema to the validator and composer.\n        composer.addSchema(schema, plugin);\n        validator.addSchema(schema, plugin);\n        return null;\n    }\n}\n/**\n * The default concrete implementation of a setting registry.\n */\nexport class SettingRegistry {\n    /**\n     * Create a new setting registry.\n     */\n    constructor(options) {\n        /**\n         * The schema of the setting registry.\n         */\n        this.schema = SCHEMA;\n        /**\n         * The collection of setting registry plugins.\n         */\n        this.plugins = Object.create(null);\n        this._pluginChanged = new Signal(this);\n        this._ready = Promise.resolve();\n        this._transformers = Object.create(null);\n        this._unloadedPlugins = new Map();\n        this.connector = options.connector;\n        this.validator = options.validator || new DefaultSchemaValidator();\n        this._timeout = options.timeout || DEFAULT_TRANSFORM_TIMEOUT;\n        // Plugins with transformation may not be loaded if the transformation function is\n        // not yet available. To avoid fetching again the associated data when the transformation\n        // function is available, the plugin data is kept in cache.\n        if (options.plugins) {\n            options.plugins\n                .filter(plugin => plugin.schema['jupyter.lab.transform'])\n                .forEach(plugin => this._unloadedPlugins.set(plugin.id, plugin));\n            // Preload with any available data at instantiation-time.\n            this._ready = this._preload(options.plugins);\n        }\n    }\n    /**\n     * A signal that emits the name of a plugin when its settings change.\n     */\n    get pluginChanged() {\n        return this._pluginChanged;\n    }\n    /**\n     * Get an individual setting.\n     *\n     * @param plugin - The name of the plugin whose settings are being retrieved.\n     *\n     * @param key - The name of the setting being retrieved.\n     *\n     * @returns A promise that resolves when the setting is retrieved.\n     */\n    async get(plugin, key) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (plugin in plugins) {\n            const { composite, user } = plugins[plugin].data;\n            return {\n                composite: composite[key] !== undefined ? copy(composite[key]) : undefined,\n                user: user[key] !== undefined ? copy(user[key]) : undefined\n            };\n        }\n        return this.load(plugin).then(() => this.get(plugin, key));\n    }\n    /**\n     * Load a plugin's settings into the setting registry.\n     *\n     * @param plugin - The name of the plugin whose settings are being loaded.\n     *\n     * @param forceTransform - An optional parameter to force replay the transforms methods.\n     *\n     * @returns A promise that resolves with a plugin settings object or rejects\n     * if the plugin is not found.\n     */\n    async load(plugin, forceTransform = false) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        const registry = this; // eslint-disable-line\n        // If the plugin exists, resolve.\n        if (plugin in plugins) {\n            // Force replaying the transform function if expected.\n            if (forceTransform) {\n                // Empty the composite and user data before replaying the transforms.\n                plugins[plugin].data = { composite: {}, user: {} };\n                await this._load(await this._transform('fetch', plugins[plugin]));\n                this._pluginChanged.emit(plugin);\n            }\n            return new Settings({ plugin: plugins[plugin], registry });\n        }\n        // If the plugin is not loaded but has already been fetched.\n        if (this._unloadedPlugins.has(plugin) && plugin in this._transformers) {\n            await this._load(await this._transform('fetch', this._unloadedPlugins.get(plugin)));\n            if (plugin in plugins) {\n                this._pluginChanged.emit(plugin);\n                this._unloadedPlugins.delete(plugin);\n                return new Settings({ plugin: plugins[plugin], registry });\n            }\n        }\n        // If the plugin needs to be loaded from the data connector, fetch.\n        return this.reload(plugin);\n    }\n    /**\n     * Reload a plugin's settings into the registry even if they already exist.\n     *\n     * @param plugin - The name of the plugin whose settings are being reloaded.\n     *\n     * @returns A promise that resolves with a plugin settings object or rejects\n     * with a list of `ISchemaValidator.IError` objects if it fails.\n     */\n    async reload(plugin) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const fetched = await this.connector.fetch(plugin);\n        const plugins = this.plugins; // eslint-disable-line\n        const registry = this; // eslint-disable-line\n        if (fetched === undefined) {\n            throw [\n                {\n                    instancePath: '',\n                    keyword: 'id',\n                    message: `Could not fetch settings for ${plugin}.`,\n                    schemaPath: ''\n                }\n            ];\n        }\n        await this._load(await this._transform('fetch', fetched));\n        this._pluginChanged.emit(plugin);\n        return new Settings({ plugin: plugins[plugin], registry });\n    }\n    /**\n     * Remove a single setting in the registry.\n     *\n     * @param plugin - The name of the plugin whose setting is being removed.\n     *\n     * @param key - The name of the setting being removed.\n     *\n     * @returns A promise that resolves when the setting is removed.\n     */\n    async remove(plugin, key) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            return;\n        }\n        const raw = json5.parse(plugins[plugin].raw);\n        // Delete both the value and any associated comment.\n        delete raw[key];\n        delete raw[`// ${key}`];\n        plugins[plugin].raw = Private.annotatedPlugin(plugins[plugin], raw);\n        return this._save(plugin);\n    }\n    /**\n     * Set a single setting in the registry.\n     *\n     * @param plugin - The name of the plugin whose setting is being set.\n     *\n     * @param key - The name of the setting being set.\n     *\n     * @param value - The value of the setting being set.\n     *\n     * @returns A promise that resolves when the setting has been saved.\n     *\n     */\n    async set(plugin, key, value) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            return this.load(plugin).then(() => this.set(plugin, key, value));\n        }\n        // Parse the raw JSON string removing all comments and return an object.\n        const raw = json5.parse(plugins[plugin].raw);\n        plugins[plugin].raw = Private.annotatedPlugin(plugins[plugin], {\n            ...raw,\n            [key]: value\n        });\n        return this._save(plugin);\n    }\n    /**\n     * Register a plugin transform function to act on a specific plugin.\n     *\n     * @param plugin - The name of the plugin whose settings are transformed.\n     *\n     * @param transforms - The transform functions applied to the plugin.\n     *\n     * @returns A disposable that removes the transforms from the registry.\n     *\n     * #### Notes\n     * - `compose` transformations: The registry automatically overwrites a\n     * plugin's default values with user overrides, but a plugin may instead wish\n     * to merge values. This behavior can be accomplished in a `compose`\n     * transformation.\n     * - `fetch` transformations: The registry uses the plugin data that is\n     * fetched from its connector. If a plugin wants to override, e.g. to update\n     * its schema with dynamic defaults, a `fetch` transformation can be applied.\n     */\n    transform(plugin, transforms) {\n        const transformers = this._transformers;\n        if (plugin in transformers) {\n            const error = new Error(`${plugin} already has a transformer.`);\n            error.name = 'TransformError';\n            throw error;\n        }\n        transformers[plugin] = {\n            fetch: transforms.fetch || (plugin => plugin),\n            compose: transforms.compose || (plugin => plugin)\n        };\n        return new DisposableDelegate(() => {\n            delete transformers[plugin];\n        });\n    }\n    /**\n     * Upload a plugin's settings.\n     *\n     * @param plugin - The name of the plugin whose settings are being set.\n     *\n     * @param raw - The raw plugin settings being uploaded.\n     *\n     * @returns A promise that resolves when the settings have been saved.\n     */\n    async upload(plugin, raw) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            return this.load(plugin).then(() => this.upload(plugin, raw));\n        }\n        // Set the local copy.\n        plugins[plugin].raw = raw;\n        return this._save(plugin);\n    }\n    /**\n     * Load a plugin into the registry.\n     */\n    async _load(data) {\n        const plugin = data.id;\n        // Validate and preload the item.\n        try {\n            await this._validate(data);\n        }\n        catch (errors) {\n            const output = [`Validating ${plugin} failed:`];\n            errors.forEach((error, index) => {\n                const { instancePath, schemaPath, keyword, message } = error;\n                if (instancePath || schemaPath) {\n                    output.push(`${index} - schema @ ${schemaPath}, data @ ${instancePath}`);\n                }\n                output.push(`{${keyword}} ${message}`);\n            });\n            console.warn(output.join('\\n'));\n            throw errors;\n        }\n    }\n    /**\n     * Preload a list of plugins and fail gracefully.\n     */\n    async _preload(plugins) {\n        await Promise.all(plugins.map(async (plugin) => {\n            var _a;\n            try {\n                // Apply a transformation to the plugin if necessary.\n                await this._load(await this._transform('fetch', plugin));\n            }\n            catch (errors) {\n                /* Ignore preload timeout errors silently. */\n                if (((_a = errors[0]) === null || _a === void 0 ? void 0 : _a.keyword) !== 'timeout') {\n                    console.warn('Ignored setting registry preload errors.', errors);\n                }\n            }\n        }));\n    }\n    /**\n     * Save a plugin in the registry.\n     */\n    async _save(plugin) {\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            throw new Error(`${plugin} does not exist in setting registry.`);\n        }\n        try {\n            await this._validate(plugins[plugin]);\n        }\n        catch (errors) {\n            console.warn(`${plugin} validation errors:`, errors);\n            throw new Error(`${plugin} failed to validate; check console.`);\n        }\n        await this.connector.save(plugin, plugins[plugin].raw);\n        // Fetch and reload the data to guarantee server and client are in sync.\n        const fetched = await this.connector.fetch(plugin);\n        if (fetched === undefined) {\n            throw [\n                {\n                    instancePath: '',\n                    keyword: 'id',\n                    message: `Could not fetch settings for ${plugin}.`,\n                    schemaPath: ''\n                }\n            ];\n        }\n        await this._load(await this._transform('fetch', fetched));\n        this._pluginChanged.emit(plugin);\n    }\n    /**\n     * Transform the plugin if necessary.\n     */\n    async _transform(phase, plugin, started = new Date().getTime()) {\n        const elapsed = new Date().getTime() - started;\n        const id = plugin.id;\n        const transformers = this._transformers;\n        const timeout = this._timeout;\n        if (!plugin.schema['jupyter.lab.transform']) {\n            return plugin;\n        }\n        if (id in transformers) {\n            const transformed = transformers[id][phase].call(null, plugin);\n            if (transformed.id !== id) {\n                throw [\n                    {\n                        instancePath: '',\n                        keyword: 'id',\n                        message: 'Plugin transformations cannot change plugin IDs.',\n                        schemaPath: ''\n                    }\n                ];\n            }\n            return transformed;\n        }\n        // If the timeout has not been exceeded, stall and try again in 250ms.\n        if (elapsed < timeout) {\n            await new Promise(resolve => {\n                setTimeout(() => {\n                    resolve();\n                }, 250);\n            });\n            return this._transform(phase, plugin, started);\n        }\n        throw [\n            {\n                instancePath: '',\n                keyword: 'timeout',\n                message: `Transforming ${plugin.id} timed out.`,\n                schemaPath: ''\n            }\n        ];\n    }\n    /**\n     * Validate and preload a plugin, compose the `composite` data.\n     */\n    async _validate(plugin) {\n        // Validate the user data and create the composite data.\n        const errors = this.validator.validateData(plugin);\n        if (errors) {\n            throw errors;\n        }\n        // Apply a transformation if necessary and set the local copy.\n        this.plugins[plugin.id] = await this._transform('compose', plugin);\n    }\n}\n/**\n * Base settings specified by a JSON schema.\n */\nexport class BaseSettings {\n    constructor(options) {\n        this._schema = options.schema;\n    }\n    /**\n     * The plugin's schema.\n     */\n    get schema() {\n        return this._schema;\n    }\n    /**\n     * Checks if any fields are different from the default value.\n     */\n    isDefault(user) {\n        for (const key in this.schema.properties) {\n            const value = user[key];\n            const defaultValue = this.default(key);\n            if (value === undefined ||\n                defaultValue === undefined ||\n                JSONExt.deepEqual(value, JSONExt.emptyObject) ||\n                JSONExt.deepEqual(value, JSONExt.emptyArray)) {\n                continue;\n            }\n            if (!JSONExt.deepEqual(value, defaultValue)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Calculate the default value of a setting by iterating through the schema.\n     *\n     * @param key - The name of the setting whose default value is calculated.\n     *\n     * @returns A calculated default JSON value for a specific setting.\n     */\n    default(key) {\n        return Private.reifyDefault(this.schema, key);\n    }\n}\n/**\n * A manager for a specific plugin's settings.\n */\nexport class Settings extends BaseSettings {\n    /**\n     * Instantiate a new plugin settings manager.\n     */\n    constructor(options) {\n        super({ schema: options.plugin.schema });\n        this._changed = new Signal(this);\n        this._isDisposed = false;\n        this.id = options.plugin.id;\n        this.registry = options.registry;\n        this.registry.pluginChanged.connect(this._onPluginChanged, this);\n    }\n    /**\n     * A signal that emits when the plugin's settings have changed.\n     */\n    get changed() {\n        return this._changed;\n    }\n    /**\n     * The composite of user settings and extension defaults.\n     */\n    get composite() {\n        return this.plugin.data.composite;\n    }\n    /**\n     * Test whether the plugin settings manager disposed.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    get plugin() {\n        return this.registry.plugins[this.id];\n    }\n    /**\n     * The plugin settings raw text value.\n     */\n    get raw() {\n        return this.plugin.raw;\n    }\n    /**\n     * Whether the settings have been modified by the user or not.\n     */\n    get isModified() {\n        return !this.isDefault(this.user);\n    }\n    /**\n     * The user settings.\n     */\n    get user() {\n        return this.plugin.data.user;\n    }\n    /**\n     * The published version of the NPM package containing these settings.\n     */\n    get version() {\n        return this.plugin.version;\n    }\n    /**\n     * Return the defaults in a commented JSON format.\n     */\n    annotatedDefaults() {\n        return Private.annotatedDefaults(this.schema, this.id);\n    }\n    /**\n     * Dispose of the plugin settings resources.\n     */\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        Signal.clearData(this);\n    }\n    /**\n     * Get an individual setting.\n     *\n     * @param key - The name of the setting being retrieved.\n     *\n     * @returns The setting value.\n     *\n     * #### Notes\n     * This method returns synchronously because it uses a cached copy of the\n     * plugin settings that is synchronized with the registry.\n     */\n    get(key) {\n        const { composite, user } = this;\n        return {\n            composite: composite[key] !== undefined ? copy(composite[key]) : undefined,\n            user: user[key] !== undefined ? copy(user[key]) : undefined\n        };\n    }\n    /**\n     * Remove a single setting.\n     *\n     * @param key - The name of the setting being removed.\n     *\n     * @returns A promise that resolves when the setting is removed.\n     *\n     * #### Notes\n     * This function is asynchronous because it writes to the setting registry.\n     */\n    remove(key) {\n        return this.registry.remove(this.plugin.id, key);\n    }\n    /**\n     * Save all of the plugin's user settings at once.\n     */\n    save(raw) {\n        return this.registry.upload(this.plugin.id, raw);\n    }\n    /**\n     * Set a single setting.\n     *\n     * @param key - The name of the setting being set.\n     *\n     * @param value - The value of the setting.\n     *\n     * @returns A promise that resolves when the setting has been saved.\n     *\n     * #### Notes\n     * This function is asynchronous because it writes to the setting registry.\n     */\n    set(key, value) {\n        return this.registry.set(this.plugin.id, key, value);\n    }\n    /**\n     * Validates raw settings with comments.\n     *\n     * @param raw - The JSON with comments string being validated.\n     *\n     * @returns A list of errors or `null` if valid.\n     */\n    validate(raw) {\n        const data = { composite: {}, user: {} };\n        const { id, schema } = this.plugin;\n        const validator = this.registry.validator;\n        const version = this.version;\n        return validator.validateData({ data, id, raw, schema, version }, false);\n    }\n    /**\n     * Handle plugin changes in the setting registry.\n     */\n    _onPluginChanged(sender, plugin) {\n        if (plugin === this.plugin.id) {\n            this._changed.emit(undefined);\n        }\n    }\n}\n/**\n * A namespace for `SettingRegistry` statics.\n */\n(function (SettingRegistry) {\n    /**\n     * Reconcile the menus.\n     *\n     * @param reference The reference list of menus.\n     * @param addition The list of menus to add.\n     * @param warn Warn if the command items are duplicated within the same menu.\n     * @returns The reconciled list of menus.\n     */\n    function reconcileMenus(reference, addition, warn = false, addNewItems = true) {\n        if (!reference) {\n            return addition && addNewItems ? JSONExt.deepCopy(addition) : [];\n        }\n        if (!addition) {\n            return JSONExt.deepCopy(reference);\n        }\n        const merged = JSONExt.deepCopy(reference);\n        addition.forEach(menu => {\n            const refIndex = merged.findIndex(ref => ref.id === menu.id);\n            if (refIndex >= 0) {\n                merged[refIndex] = {\n                    ...merged[refIndex],\n                    ...menu,\n                    items: reconcileItems(merged[refIndex].items, menu.items, warn, addNewItems)\n                };\n            }\n            else {\n                if (addNewItems) {\n                    merged.push(menu);\n                }\n            }\n        });\n        return merged;\n    }\n    SettingRegistry.reconcileMenus = reconcileMenus;\n    /**\n     * Merge two set of menu items.\n     *\n     * @param reference Reference set of menu items\n     * @param addition New items to add\n     * @param warn Whether to warn if item is duplicated; default to false\n     * @returns The merged set of items\n     */\n    function reconcileItems(reference, addition, warn = false, addNewItems = true) {\n        if (!reference) {\n            return addition ? JSONExt.deepCopy(addition) : undefined;\n        }\n        if (!addition) {\n            return JSONExt.deepCopy(reference);\n        }\n        const items = JSONExt.deepCopy(reference);\n        // Merge array element depending on the type\n        addition.forEach(item => {\n            var _a;\n            switch ((_a = item.type) !== null && _a !== void 0 ? _a : 'command') {\n                case 'separator':\n                    if (addNewItems) {\n                        items.push({ ...item });\n                    }\n                    break;\n                case 'submenu':\n                    if (item.submenu) {\n                        const refIndex = items.findIndex(ref => { var _a, _b; return ref.type === 'submenu' && ((_a = ref.submenu) === null || _a === void 0 ? void 0 : _a.id) === ((_b = item.submenu) === null || _b === void 0 ? void 0 : _b.id); });\n                        if (refIndex < 0) {\n                            if (addNewItems) {\n                                items.push(JSONExt.deepCopy(item));\n                            }\n                        }\n                        else {\n                            items[refIndex] = {\n                                ...items[refIndex],\n                                ...item,\n                                submenu: reconcileMenus(items[refIndex].submenu\n                                    ? [items[refIndex].submenu]\n                                    : null, [item.submenu], warn, addNewItems)[0]\n                            };\n                        }\n                    }\n                    break;\n                case 'command':\n                    if (item.command) {\n                        const refIndex = items.findIndex(ref => {\n                            var _a, _b;\n                            return ref.command === item.command &&\n                                ref.selector === item.selector &&\n                                JSONExt.deepEqual((_a = ref.args) !== null && _a !== void 0 ? _a : {}, (_b = item.args) !== null && _b !== void 0 ? _b : {});\n                        });\n                        if (refIndex < 0) {\n                            if (addNewItems) {\n                                items.push({ ...item });\n                            }\n                        }\n                        else {\n                            if (warn) {\n                                console.warn(`Menu entry for command '${item.command}' is duplicated.`);\n                            }\n                            items[refIndex] = { ...items[refIndex], ...item };\n                        }\n                    }\n            }\n        });\n        return items;\n    }\n    SettingRegistry.reconcileItems = reconcileItems;\n    /**\n     * Remove disabled entries from menu items\n     *\n     * @param items Menu items\n     * @returns Filtered menu items\n     */\n    function filterDisabledItems(items) {\n        return items.reduce((final, value) => {\n            var _a;\n            const copy = { ...value };\n            if (!copy.disabled) {\n                if (copy.type === 'submenu') {\n                    const { submenu } = copy;\n                    if (submenu && !submenu.disabled) {\n                        copy.submenu = {\n                            ...submenu,\n                            items: filterDisabledItems((_a = submenu.items) !== null && _a !== void 0 ? _a : [])\n                        };\n                    }\n                }\n                final.push(copy);\n            }\n            return final;\n        }, []);\n    }\n    SettingRegistry.filterDisabledItems = filterDisabledItems;\n    /**\n     * Reconcile default and user shortcuts and return the composite list.\n     *\n     * @param defaults - The list of default shortcuts.\n     *\n     * @param user - The list of user shortcut overrides and additions.\n     *\n     * @returns A loadable list of shortcuts (omitting disabled and overridden).\n     */\n    function reconcileShortcuts(defaults, user) {\n        const memo = {};\n        // If a user shortcut collides with another user shortcut warn and filter.\n        user = user.filter(shortcut => {\n            const keys = CommandRegistry.normalizeKeys(shortcut).join(RECORD_SEPARATOR);\n            if (!keys) {\n                console.warn('Skipping this shortcut because there are no actionable keys on this platform', shortcut);\n                return false;\n            }\n            if (!(keys in memo)) {\n                memo[keys] = {};\n            }\n            const { selector } = shortcut;\n            if (!(selector in memo[keys])) {\n                memo[keys][selector] = false; // Do not warn if a default shortcut conflicts.\n                return true;\n            }\n            console.warn('Skipping this shortcut because it collides with another shortcut.', shortcut);\n            return false;\n        });\n        // If a default shortcut collides with another default, warn and filter,\n        // unless one of the shortcuts is a disabling shortcut (so look through\n        // disabled shortcuts first). If a shortcut has already been added by the\n        // user preferences, filter it out too (this includes shortcuts that are\n        // disabled by user preferences).\n        defaults = [\n            ...defaults.filter(s => !!s.disabled),\n            ...defaults.filter(s => !s.disabled)\n        ].filter(shortcut => {\n            const keys = CommandRegistry.normalizeKeys(shortcut).join(RECORD_SEPARATOR);\n            if (!keys) {\n                return false;\n            }\n            if (!(keys in memo)) {\n                memo[keys] = {};\n            }\n            const { disabled, selector } = shortcut;\n            if (!(selector in memo[keys])) {\n                // Warn of future conflicts if the default shortcut is not disabled.\n                memo[keys][selector] = !disabled;\n                return true;\n            }\n            // We have a conflict now. Warn the user if we need to do so.\n            if (memo[keys][selector]) {\n                console.warn('Skipping this default shortcut because it collides with another default shortcut.', shortcut);\n            }\n            return false;\n        });\n        // Return all the shortcuts that should be registered\n        return (user\n            .concat(defaults)\n            .filter(shortcut => !shortcut.disabled)\n            // Fix shortcuts comparison in rjsf Form to avoid polluting the user settings\n            .map(shortcut => {\n            return { args: {}, ...shortcut };\n        }));\n    }\n    SettingRegistry.reconcileShortcuts = reconcileShortcuts;\n    /**\n     * Merge two set of toolbar items.\n     *\n     * @param reference Reference set of toolbar items\n     * @param addition New items to add\n     * @param warn Whether to warn if item is duplicated; default to false\n     * @returns The merged set of items\n     */\n    function reconcileToolbarItems(reference, addition, warn = false) {\n        if (!reference) {\n            return addition ? JSONExt.deepCopy(addition) : undefined;\n        }\n        if (!addition) {\n            return JSONExt.deepCopy(reference);\n        }\n        const items = JSONExt.deepCopy(reference);\n        // Merge array element depending on the type\n        addition.forEach(item => {\n            // Name must be unique so it's sufficient to only compare it\n            const refIndex = items.findIndex(ref => ref.name === item.name);\n            if (refIndex < 0) {\n                items.push({ ...item });\n            }\n            else {\n                if (warn &&\n                    JSONExt.deepEqual(Object.keys(item), Object.keys(items[refIndex]))) {\n                    console.warn(`Toolbar item '${item.name}' is duplicated.`);\n                }\n                items[refIndex] = { ...items[refIndex], ...item };\n            }\n        });\n        return items;\n    }\n    SettingRegistry.reconcileToolbarItems = reconcileToolbarItems;\n})(SettingRegistry || (SettingRegistry = {}));\n/**\n * A namespace for private module data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The default indentation level, uses spaces instead of tabs.\n     */\n    const indent = '    ';\n    /**\n     * Replacement text for schema properties missing a `description` field.\n     */\n    const nondescript = '[missing schema description]';\n    /**\n     * Replacement text for schema properties missing a `title` field.\n     */\n    const untitled = '[missing schema title]';\n    /**\n     * Returns an annotated (JSON with comments) version of a schema's defaults.\n     */\n    function annotatedDefaults(schema, plugin) {\n        const { description, properties, title } = schema;\n        const keys = properties\n            ? Object.keys(properties).sort((a, b) => a.localeCompare(b))\n            : [];\n        const length = Math.max((description || nondescript).length, plugin.length);\n        return [\n            '{',\n            prefix(`${title || untitled}`),\n            prefix(plugin),\n            prefix(description || nondescript),\n            prefix('*'.repeat(length)),\n            '',\n            join(keys.map(key => defaultDocumentedValue(schema, key))),\n            '}'\n        ].join('\\n');\n    }\n    Private.annotatedDefaults = annotatedDefaults;\n    /**\n     * Returns an annotated (JSON with comments) version of a plugin's\n     * setting data.\n     */\n    function annotatedPlugin(plugin, data) {\n        const { description, title } = plugin.schema;\n        const keys = Object.keys(data).sort((a, b) => a.localeCompare(b));\n        const length = Math.max((description || nondescript).length, plugin.id.length);\n        return [\n            '{',\n            prefix(`${title || untitled}`),\n            prefix(plugin.id),\n            prefix(description || nondescript),\n            prefix('*'.repeat(length)),\n            '',\n            join(keys.map(key => documentedValue(plugin.schema, key, data[key]))),\n            '}'\n        ].join('\\n');\n    }\n    Private.annotatedPlugin = annotatedPlugin;\n    /**\n     * Returns the default value-with-documentation-string for a\n     * specific schema property.\n     */\n    function defaultDocumentedValue(schema, key) {\n        const props = (schema.properties && schema.properties[key]) || {};\n        const type = props['type'];\n        const description = props['description'] || nondescript;\n        const title = props['title'] || '';\n        const reified = reifyDefault(schema, key);\n        const spaces = indent.length;\n        const defaults = reified !== undefined\n            ? prefix(`\"${key}\": ${JSON.stringify(reified, null, spaces)}`, indent)\n            : prefix(`\"${key}\": ${type}`);\n        return [prefix(title), prefix(description), defaults]\n            .filter(str => str.length)\n            .join('\\n');\n    }\n    /**\n     * Returns a value-with-documentation-string for a specific schema property.\n     */\n    function documentedValue(schema, key, value) {\n        const props = schema.properties && schema.properties[key];\n        const description = (props && props['description']) || nondescript;\n        const title = (props && props['title']) || untitled;\n        const spaces = indent.length;\n        const attribute = prefix(`\"${key}\": ${JSON.stringify(value, null, spaces)}`, indent);\n        return [prefix(title), prefix(description), attribute].join('\\n');\n    }\n    /**\n     * Returns a joined string with line breaks and commas where appropriate.\n     */\n    function join(body) {\n        return body.reduce((acc, val, idx) => {\n            const rows = val.split('\\n');\n            const last = rows[rows.length - 1];\n            const comment = last.trim().indexOf('//') === 0;\n            const comma = comment || idx === body.length - 1 ? '' : ',';\n            const separator = idx === body.length - 1 ? '' : '\\n\\n';\n            return acc + val + comma + separator;\n        }, '');\n    }\n    /**\n     * Returns a documentation string with a comment prefix added on every line.\n     */\n    function prefix(source, pre = `${indent}// `) {\n        return pre + source.split('\\n').join(`\\n${pre}`);\n    }\n    /**\n     * Create a fully extrapolated default value for a root key in a schema.\n     */\n    function reifyDefault(schema, root, definitions) {\n        var _a, _b, _c, _d;\n        definitions = definitions !== null && definitions !== void 0 ? definitions : schema.definitions;\n        // If the property is at the root level, traverse its schema.\n        schema = (root ? (_a = schema.properties) === null || _a === void 0 ? void 0 : _a[root] : schema) || {};\n        if (schema.type === 'object') {\n            // Make a copy of the default value to populate.\n            const result = JSONExt.deepCopy(schema.default);\n            // Iterate through and populate each child property.\n            const props = schema.properties || {};\n            for (const property in props) {\n                result[property] = reifyDefault(props[property], undefined, definitions);\n            }\n            return result;\n        }\n        else if (schema.type === 'array') {\n            // Make a copy of the default value to populate.\n            const result = JSONExt.deepCopy(schema.default);\n            // Items defines the properties of each item in the array\n            let props = schema.items || {};\n            // Use referenced definition if one exists\n            if (props['$ref'] && definitions) {\n                const ref = props['$ref'].replace('#/definitions/', '');\n                props = (_b = definitions[ref]) !== null && _b !== void 0 ? _b : {};\n            }\n            // Iterate through the items in the array and fill in defaults\n            for (const item in result) {\n                // Use the values that are hard-coded in the default array over the defaults for each field.\n                const reified = (_c = reifyDefault(props, undefined, definitions)) !== null && _c !== void 0 ? _c : {};\n                for (const prop in reified) {\n                    if ((_d = result[item]) === null || _d === void 0 ? void 0 : _d[prop]) {\n                        reified[prop] = result[item][prop];\n                    }\n                }\n                result[item] = reified;\n            }\n            return result;\n        }\n        else {\n            return schema.default;\n        }\n    }\n    Private.reifyDefault = reifyDefault;\n})(Private || (Private = {}));\n//# sourceMappingURL=settingregistry.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { Token } from '@lumino/coreutils';\n/**\n * The setting registry token.\n */\nexport const ISettingRegistry = new Token('@jupyterlab/coreutils:ISettingRegistry', `A service for the JupyterLab settings system.\n  Use this if you want to store settings for your application.\n  See \"schemaDir\" for more information.`);\n//# sourceMappingURL=tokens.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"uri-js\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.JSON5 = factory());\n}(this, (function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar _global = createCommonjsModule(function (module) {\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self\n\t  // eslint-disable-next-line no-new-func\n\t  : Function('return this')();\n\tif (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef\n\t});\n\n\tvar _core = createCommonjsModule(function (module) {\n\tvar core = module.exports = { version: '2.6.5' };\n\tif (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef\n\t});\n\tvar _core_1 = _core.version;\n\n\tvar _isObject = function (it) {\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n\tvar _anObject = function (it) {\n\t  if (!_isObject(it)) { throw TypeError(it + ' is not an object!'); }\n\t  return it;\n\t};\n\n\tvar _fails = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n\t// Thank's IE8 for his funny defineProperty\n\tvar _descriptors = !_fails(function () {\n\t  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\tvar document = _global.document;\n\t// typeof document.createElement is 'object' in old IE\n\tvar is = _isObject(document) && _isObject(document.createElement);\n\tvar _domCreate = function (it) {\n\t  return is ? document.createElement(it) : {};\n\t};\n\n\tvar _ie8DomDefine = !_descriptors && !_fails(function () {\n\t  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\t// 7.1.1 ToPrimitive(input [, PreferredType])\n\n\t// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n\t// and the second argument - flag - preferred type is a string\n\tvar _toPrimitive = function (it, S) {\n\t  if (!_isObject(it)) { return it; }\n\t  var fn, val;\n\t  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  throw TypeError(\"Can't convert object to primitive value\");\n\t};\n\n\tvar dP = Object.defineProperty;\n\n\tvar f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n\t  _anObject(O);\n\t  P = _toPrimitive(P, true);\n\t  _anObject(Attributes);\n\t  if (_ie8DomDefine) { try {\n\t    return dP(O, P, Attributes);\n\t  } catch (e) { /* empty */ } }\n\t  if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }\n\t  if ('value' in Attributes) { O[P] = Attributes.value; }\n\t  return O;\n\t};\n\n\tvar _objectDp = {\n\t\tf: f\n\t};\n\n\tvar _propertyDesc = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n\tvar _hide = _descriptors ? function (object, key, value) {\n\t  return _objectDp.f(object, key, _propertyDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tvar _has = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n\tvar id = 0;\n\tvar px = Math.random();\n\tvar _uid = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n\tvar _library = false;\n\n\tvar _shared = createCommonjsModule(function (module) {\n\tvar SHARED = '__core-js_shared__';\n\tvar store = _global[SHARED] || (_global[SHARED] = {});\n\n\t(module.exports = function (key, value) {\n\t  return store[key] || (store[key] = value !== undefined ? value : {});\n\t})('versions', []).push({\n\t  version: _core.version,\n\t  mode: _library ? 'pure' : 'global',\n\t  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n\t});\n\t});\n\n\tvar _functionToString = _shared('native-function-to-string', Function.toString);\n\n\tvar _redefine = createCommonjsModule(function (module) {\n\tvar SRC = _uid('src');\n\n\tvar TO_STRING = 'toString';\n\tvar TPL = ('' + _functionToString).split(TO_STRING);\n\n\t_core.inspectSource = function (it) {\n\t  return _functionToString.call(it);\n\t};\n\n\t(module.exports = function (O, key, val, safe) {\n\t  var isFunction = typeof val == 'function';\n\t  if (isFunction) { _has(val, 'name') || _hide(val, 'name', key); }\n\t  if (O[key] === val) { return; }\n\t  if (isFunction) { _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }\n\t  if (O === _global) {\n\t    O[key] = val;\n\t  } else if (!safe) {\n\t    delete O[key];\n\t    _hide(O, key, val);\n\t  } else if (O[key]) {\n\t    O[key] = val;\n\t  } else {\n\t    _hide(O, key, val);\n\t  }\n\t// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n\t})(Function.prototype, TO_STRING, function toString() {\n\t  return typeof this == 'function' && this[SRC] || _functionToString.call(this);\n\t});\n\t});\n\n\tvar _aFunction = function (it) {\n\t  if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }\n\t  return it;\n\t};\n\n\t// optional / simple context binding\n\n\tvar _ctx = function (fn, that, length) {\n\t  _aFunction(fn);\n\t  if (that === undefined) { return fn; }\n\t  switch (length) {\n\t    case 1: return function (a) {\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function (a, b) {\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function (a, b, c) {\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function (/* ...args */) {\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n\tvar PROTOTYPE = 'prototype';\n\n\tvar $export = function (type, name, source) {\n\t  var IS_FORCED = type & $export.F;\n\t  var IS_GLOBAL = type & $export.G;\n\t  var IS_STATIC = type & $export.S;\n\t  var IS_PROTO = type & $export.P;\n\t  var IS_BIND = type & $export.B;\n\t  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n\t  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n\t  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n\t  var key, own, out, exp;\n\t  if (IS_GLOBAL) { source = name; }\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && target[key] !== undefined;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n\t    // extend global\n\t    if (target) { _redefine(target, key, out, type & $export.U); }\n\t    // export\n\t    if (exports[key] != out) { _hide(exports, key, exp); }\n\t    if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }\n\t  }\n\t};\n\t_global.core = _core;\n\t// type bitmap\n\t$export.F = 1;   // forced\n\t$export.G = 2;   // global\n\t$export.S = 4;   // static\n\t$export.P = 8;   // proto\n\t$export.B = 16;  // bind\n\t$export.W = 32;  // wrap\n\t$export.U = 64;  // safe\n\t$export.R = 128; // real proto method for `library`\n\tvar _export = $export;\n\n\t// 7.1.4 ToInteger\n\tvar ceil = Math.ceil;\n\tvar floor = Math.floor;\n\tvar _toInteger = function (it) {\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tvar _defined = function (it) {\n\t  if (it == undefined) { throw TypeError(\"Can't call method on  \" + it); }\n\t  return it;\n\t};\n\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tvar _stringAt = function (TO_STRING) {\n\t  return function (that, pos) {\n\t    var s = String(_defined(that));\n\t    var i = _toInteger(pos);\n\t    var l = s.length;\n\t    var a, b;\n\t    if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n\tvar $at = _stringAt(false);\n\t_export(_export.P, 'String', {\n\t  // 21.1.3.3 String.prototype.codePointAt(pos)\n\t  codePointAt: function codePointAt(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n\tvar codePointAt = _core.String.codePointAt;\n\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar _toAbsoluteIndex = function (index, length) {\n\t  index = _toInteger(index);\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\n\t};\n\n\tvar fromCharCode = String.fromCharCode;\n\tvar $fromCodePoint = String.fromCodePoint;\n\n\t// length should be 1, old FF problem\n\t_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n\t  // 21.1.2.2 String.fromCodePoint(...codePoints)\n\t  fromCodePoint: function fromCodePoint(x) {\n\t    var arguments$1 = arguments;\n\t // eslint-disable-line no-unused-vars\n\t    var res = [];\n\t    var aLen = arguments.length;\n\t    var i = 0;\n\t    var code;\n\t    while (aLen > i) {\n\t      code = +arguments$1[i++];\n\t      if (_toAbsoluteIndex(code, 0x10ffff) !== code) { throw RangeError(code + ' is not a valid code point'); }\n\t      res.push(code < 0x10000\n\t        ? fromCharCode(code)\n\t        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n\t      );\n\t    } return res.join('');\n\t  }\n\t});\n\n\tvar fromCodePoint = _core.String.fromCodePoint;\n\n\t// This is a generated file. Do not edit.\n\tvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\n\tvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\n\tvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\n\tvar unicode = {\n\t\tSpace_Separator: Space_Separator,\n\t\tID_Start: ID_Start,\n\t\tID_Continue: ID_Continue\n\t};\n\n\tvar util = {\n\t    isSpaceSeparator: function isSpaceSeparator (c) {\n\t        return typeof c === 'string' && unicode.Space_Separator.test(c)\n\t    },\n\n\t    isIdStartChar: function isIdStartChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c === '$') || (c === '_') ||\n\t        unicode.ID_Start.test(c)\n\t        )\n\t    },\n\n\t    isIdContinueChar: function isIdContinueChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c >= '0' && c <= '9') ||\n\t        (c === '$') || (c === '_') ||\n\t        (c === '\\u200C') || (c === '\\u200D') ||\n\t        unicode.ID_Continue.test(c)\n\t        )\n\t    },\n\n\t    isDigit: function isDigit (c) {\n\t        return typeof c === 'string' && /[0-9]/.test(c)\n\t    },\n\n\t    isHexDigit: function isHexDigit (c) {\n\t        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n\t    },\n\t};\n\n\tvar source;\n\tvar parseState;\n\tvar stack;\n\tvar pos;\n\tvar line;\n\tvar column;\n\tvar token;\n\tvar key;\n\tvar root;\n\n\tvar parse = function parse (text, reviver) {\n\t    source = String(text);\n\t    parseState = 'start';\n\t    stack = [];\n\t    pos = 0;\n\t    line = 1;\n\t    column = 0;\n\t    token = undefined;\n\t    key = undefined;\n\t    root = undefined;\n\n\t    do {\n\t        token = lex();\n\n\t        // This code is unreachable.\n\t        // if (!parseStates[parseState]) {\n\t        //     throw invalidParseState()\n\t        // }\n\n\t        parseStates[parseState]();\n\t    } while (token.type !== 'eof')\n\n\t    if (typeof reviver === 'function') {\n\t        return internalize({'': root}, '', reviver)\n\t    }\n\n\t    return root\n\t};\n\n\tfunction internalize (holder, name, reviver) {\n\t    var value = holder[name];\n\t    if (value != null && typeof value === 'object') {\n\t        if (Array.isArray(value)) {\n\t            for (var i = 0; i < value.length; i++) {\n\t                var key = String(i);\n\t                var replacement = internalize(value, key, reviver);\n\t                if (replacement === undefined) {\n\t                    delete value[key];\n\t                } else {\n\t                    Object.defineProperty(value, key, {\n\t                        value: replacement,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        } else {\n\t            for (var key$1 in value) {\n\t                var replacement$1 = internalize(value, key$1, reviver);\n\t                if (replacement$1 === undefined) {\n\t                    delete value[key$1];\n\t                } else {\n\t                    Object.defineProperty(value, key$1, {\n\t                        value: replacement$1,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }\n\n\t    return reviver.call(holder, name, value)\n\t}\n\n\tvar lexState;\n\tvar buffer;\n\tvar doubleQuote;\n\tvar sign;\n\tvar c;\n\n\tfunction lex () {\n\t    lexState = 'default';\n\t    buffer = '';\n\t    doubleQuote = false;\n\t    sign = 1;\n\n\t    for (;;) {\n\t        c = peek();\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[lexState]) {\n\t        //     throw invalidLexState(lexState)\n\t        // }\n\n\t        var token = lexStates[lexState]();\n\t        if (token) {\n\t            return token\n\t        }\n\t    }\n\t}\n\n\tfunction peek () {\n\t    if (source[pos]) {\n\t        return String.fromCodePoint(source.codePointAt(pos))\n\t    }\n\t}\n\n\tfunction read () {\n\t    var c = peek();\n\n\t    if (c === '\\n') {\n\t        line++;\n\t        column = 0;\n\t    } else if (c) {\n\t        column += c.length;\n\t    } else {\n\t        column++;\n\t    }\n\n\t    if (c) {\n\t        pos += c.length;\n\t    }\n\n\t    return c\n\t}\n\n\tvar lexStates = {\n\t    default: function default$1 () {\n\t        switch (c) {\n\t        case '\\t':\n\t        case '\\v':\n\t        case '\\f':\n\t        case ' ':\n\t        case '\\u00A0':\n\t        case '\\uFEFF':\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'comment';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        if (util.isSpaceSeparator(c)) {\n\t            read();\n\t            return\n\t        }\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[parseState]) {\n\t        //     throw invalidLexState(parseState)\n\t        // }\n\n\t        return lexStates[parseState]()\n\t    },\n\n\t    comment: function comment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineComment';\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'singleLineComment';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    multiLineComment: function multiLineComment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineCommentAsterisk';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    },\n\n\t    multiLineCommentAsterisk: function multiLineCommentAsterisk () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        lexState = 'multiLineComment';\n\t    },\n\n\t    singleLineComment: function singleLineComment () {\n\t        switch (c) {\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        read();\n\t    },\n\n\t    value: function value () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        case 'n':\n\t            read();\n\t            literal('ull');\n\t            return newToken('null', null)\n\n\t        case 't':\n\t            read();\n\t            literal('rue');\n\t            return newToken('boolean', true)\n\n\t        case 'f':\n\t            read();\n\t            literal('alse');\n\t            return newToken('boolean', false)\n\n\t        case '-':\n\t        case '+':\n\t            if (read() === '-') {\n\t                sign = -1;\n\t            }\n\n\t            lexState = 'sign';\n\t            return\n\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            buffer = '';\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    identifierNameStartEscape: function identifierNameStartEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t            break\n\n\t        default:\n\t            if (!util.isIdStartChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    identifierName: function identifierName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            buffer += read();\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameEscape';\n\t            return\n\t        }\n\n\t        if (util.isIdContinueChar(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('identifier', buffer)\n\t    },\n\n\t    identifierNameEscape: function identifierNameEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            break\n\n\t        default:\n\t            if (!util.isIdContinueChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    sign: function sign$1 () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', sign * Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    zero: function zero () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\n\t        case 'x':\n\t        case 'X':\n\t            buffer += read();\n\t            lexState = 'hexadecimal';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * 0)\n\t    },\n\n\t    decimalInteger: function decimalInteger () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalPointLeading: function decimalPointLeading () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalPoint: function decimalPoint () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalFraction: function decimalFraction () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalExponent: function decimalExponent () {\n\t        switch (c) {\n\t        case '+':\n\t        case '-':\n\t            buffer += read();\n\t            lexState = 'decimalExponentSign';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentSign: function decimalExponentSign () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentInteger: function decimalExponentInteger () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    hexadecimal: function hexadecimal () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'hexadecimalInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    hexadecimalInteger: function hexadecimalInteger () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    string: function string () {\n\t        switch (c) {\n\t        case '\\\\':\n\t            read();\n\t            buffer += escape();\n\t            return\n\n\t        case '\"':\n\t            if (doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case \"'\":\n\t            if (!doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case '\\n':\n\t        case '\\r':\n\t            throw invalidChar(read())\n\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            separatorChar(c);\n\t            break\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    },\n\n\t    start: function start () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        // This code is unreachable since the default lexState handles eof.\n\t        // case undefined:\n\t        //     return newToken('eof')\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t            buffer = read();\n\t            lexState = 'identifierName';\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameStartEscape';\n\t            return\n\n\t        case '}':\n\t            return newToken('punctuator', read())\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        if (util.isIdStartChar(c)) {\n\t            buffer += read();\n\t            lexState = 'identifierName';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        if (c === ':') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        lexState = 'value';\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case '}':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (c === ']') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case ']':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the default lexState.\n\t        // if (c === undefined) {\n\t        //     read()\n\t        //     return newToken('eof')\n\t        // }\n\n\t        throw invalidChar(read())\n\t    },\n\t};\n\n\tfunction newToken (type, value) {\n\t    return {\n\t        type: type,\n\t        value: value,\n\t        line: line,\n\t        column: column,\n\t    }\n\t}\n\n\tfunction literal (s) {\n\t    for (var i = 0, list = s; i < list.length; i += 1) {\n\t        var c = list[i];\n\n\t        var p = peek();\n\n\t        if (p !== c) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    }\n\t}\n\n\tfunction escape () {\n\t    var c = peek();\n\t    switch (c) {\n\t    case 'b':\n\t        read();\n\t        return '\\b'\n\n\t    case 'f':\n\t        read();\n\t        return '\\f'\n\n\t    case 'n':\n\t        read();\n\t        return '\\n'\n\n\t    case 'r':\n\t        read();\n\t        return '\\r'\n\n\t    case 't':\n\t        read();\n\t        return '\\t'\n\n\t    case 'v':\n\t        read();\n\t        return '\\v'\n\n\t    case '0':\n\t        read();\n\t        if (util.isDigit(peek())) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        return '\\0'\n\n\t    case 'x':\n\t        read();\n\t        return hexEscape()\n\n\t    case 'u':\n\t        read();\n\t        return unicodeEscape()\n\n\t    case '\\n':\n\t    case '\\u2028':\n\t    case '\\u2029':\n\t        read();\n\t        return ''\n\n\t    case '\\r':\n\t        read();\n\t        if (peek() === '\\n') {\n\t            read();\n\t        }\n\n\t        return ''\n\n\t    case '1':\n\t    case '2':\n\t    case '3':\n\t    case '4':\n\t    case '5':\n\t    case '6':\n\t    case '7':\n\t    case '8':\n\t    case '9':\n\t        throw invalidChar(read())\n\n\t    case undefined:\n\t        throw invalidChar(read())\n\t    }\n\n\t    return read()\n\t}\n\n\tfunction hexEscape () {\n\t    var buffer = '';\n\t    var c = peek();\n\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    c = peek();\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tfunction unicodeEscape () {\n\t    var buffer = '';\n\t    var count = 4;\n\n\t    while (count-- > 0) {\n\t        var c = peek();\n\t        if (!util.isHexDigit(c)) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    }\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tvar parseStates = {\n\t    start: function start () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (token.type) {\n\t        case 'identifier':\n\t        case 'string':\n\t            key = token.value;\n\t            parseState = 'afterPropertyName';\n\t            return\n\n\t        case 'punctuator':\n\t            // This code is unreachable since it's handled by the lexState.\n\t            // if (token.value !== '}') {\n\t            //     throw invalidToken()\n\t            // }\n\n\t            pop();\n\t            return\n\n\t        case 'eof':\n\t            throw invalidEOF()\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator' || token.value !== ':') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        parseState = 'beforePropertyValue';\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        if (token.type === 'punctuator' && token.value === ']') {\n\t            pop();\n\t            return\n\t        }\n\n\t        push();\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforePropertyName';\n\t            return\n\n\t        case '}':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforeArrayValue';\n\t            return\n\n\t        case ']':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'eof') {\n\t        //     throw invalidToken()\n\t        // }\n\t    },\n\t};\n\n\tfunction push () {\n\t    var value;\n\n\t    switch (token.type) {\n\t    case 'punctuator':\n\t        switch (token.value) {\n\t        case '{':\n\t            value = {};\n\t            break\n\n\t        case '[':\n\t            value = [];\n\t            break\n\t        }\n\n\t        break\n\n\t    case 'null':\n\t    case 'boolean':\n\t    case 'numeric':\n\t    case 'string':\n\t        value = token.value;\n\t        break\n\n\t    // This code is unreachable.\n\t    // default:\n\t    //     throw invalidToken()\n\t    }\n\n\t    if (root === undefined) {\n\t        root = value;\n\t    } else {\n\t        var parent = stack[stack.length - 1];\n\t        if (Array.isArray(parent)) {\n\t            parent.push(value);\n\t        } else {\n\t            Object.defineProperty(parent, key, {\n\t                value: value,\n\t                writable: true,\n\t                enumerable: true,\n\t                configurable: true,\n\t            });\n\t        }\n\t    }\n\n\t    if (value !== null && typeof value === 'object') {\n\t        stack.push(value);\n\n\t        if (Array.isArray(value)) {\n\t            parseState = 'beforeArrayValue';\n\t        } else {\n\t            parseState = 'beforePropertyName';\n\t        }\n\t    } else {\n\t        var current = stack[stack.length - 1];\n\t        if (current == null) {\n\t            parseState = 'end';\n\t        } else if (Array.isArray(current)) {\n\t            parseState = 'afterArrayValue';\n\t        } else {\n\t            parseState = 'afterPropertyValue';\n\t        }\n\t    }\n\t}\n\n\tfunction pop () {\n\t    stack.pop();\n\n\t    var current = stack[stack.length - 1];\n\t    if (current == null) {\n\t        parseState = 'end';\n\t    } else if (Array.isArray(current)) {\n\t        parseState = 'afterArrayValue';\n\t    } else {\n\t        parseState = 'afterPropertyValue';\n\t    }\n\t}\n\n\t// This code is unreachable.\n\t// function invalidParseState () {\n\t//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n\t// }\n\n\t// This code is unreachable.\n\t// function invalidLexState (state) {\n\t//     return new Error(`JSON5: invalid lex state '${state}'`)\n\t// }\n\n\tfunction invalidChar (c) {\n\t    if (c === undefined) {\n\t        return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t    }\n\n\t    return syntaxError((\"JSON5: invalid character '\" + (formatChar(c)) + \"' at \" + line + \":\" + column))\n\t}\n\n\tfunction invalidEOF () {\n\t    return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t}\n\n\t// This code is unreachable.\n\t// function invalidToken () {\n\t//     if (token.type === 'eof') {\n\t//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n\t//     }\n\n\t//     const c = String.fromCodePoint(token.value.codePointAt(0))\n\t//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n\t// }\n\n\tfunction invalidIdentifier () {\n\t    column -= 5;\n\t    return syntaxError((\"JSON5: invalid identifier character at \" + line + \":\" + column))\n\t}\n\n\tfunction separatorChar (c) {\n\t    console.warn((\"JSON5: '\" + (formatChar(c)) + \"' in strings is not valid ECMAScript; consider escaping\"));\n\t}\n\n\tfunction formatChar (c) {\n\t    var replacements = {\n\t        \"'\": \"\\\\'\",\n\t        '\"': '\\\\\"',\n\t        '\\\\': '\\\\\\\\',\n\t        '\\b': '\\\\b',\n\t        '\\f': '\\\\f',\n\t        '\\n': '\\\\n',\n\t        '\\r': '\\\\r',\n\t        '\\t': '\\\\t',\n\t        '\\v': '\\\\v',\n\t        '\\0': '\\\\0',\n\t        '\\u2028': '\\\\u2028',\n\t        '\\u2029': '\\\\u2029',\n\t    };\n\n\t    if (replacements[c]) {\n\t        return replacements[c]\n\t    }\n\n\t    if (c < ' ') {\n\t        var hexString = c.charCodeAt(0).toString(16);\n\t        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n\t    }\n\n\t    return c\n\t}\n\n\tfunction syntaxError (message) {\n\t    var err = new SyntaxError(message);\n\t    err.lineNumber = line;\n\t    err.columnNumber = column;\n\t    return err\n\t}\n\n\tvar stringify = function stringify (value, replacer, space) {\n\t    var stack = [];\n\t    var indent = '';\n\t    var propertyList;\n\t    var replacerFunc;\n\t    var gap = '';\n\t    var quote;\n\n\t    if (\n\t        replacer != null &&\n\t        typeof replacer === 'object' &&\n\t        !Array.isArray(replacer)\n\t    ) {\n\t        space = replacer.space;\n\t        quote = replacer.quote;\n\t        replacer = replacer.replacer;\n\t    }\n\n\t    if (typeof replacer === 'function') {\n\t        replacerFunc = replacer;\n\t    } else if (Array.isArray(replacer)) {\n\t        propertyList = [];\n\t        for (var i = 0, list = replacer; i < list.length; i += 1) {\n\t            var v = list[i];\n\n\t            var item = (void 0);\n\n\t            if (typeof v === 'string') {\n\t                item = v;\n\t            } else if (\n\t                typeof v === 'number' ||\n\t                v instanceof String ||\n\t                v instanceof Number\n\t            ) {\n\t                item = String(v);\n\t            }\n\n\t            if (item !== undefined && propertyList.indexOf(item) < 0) {\n\t                propertyList.push(item);\n\t            }\n\t        }\n\t    }\n\n\t    if (space instanceof Number) {\n\t        space = Number(space);\n\t    } else if (space instanceof String) {\n\t        space = String(space);\n\t    }\n\n\t    if (typeof space === 'number') {\n\t        if (space > 0) {\n\t            space = Math.min(10, Math.floor(space));\n\t            gap = '          '.substr(0, space);\n\t        }\n\t    } else if (typeof space === 'string') {\n\t        gap = space.substr(0, 10);\n\t    }\n\n\t    return serializeProperty('', {'': value})\n\n\t    function serializeProperty (key, holder) {\n\t        var value = holder[key];\n\t        if (value != null) {\n\t            if (typeof value.toJSON5 === 'function') {\n\t                value = value.toJSON5(key);\n\t            } else if (typeof value.toJSON === 'function') {\n\t                value = value.toJSON(key);\n\t            }\n\t        }\n\n\t        if (replacerFunc) {\n\t            value = replacerFunc.call(holder, key, value);\n\t        }\n\n\t        if (value instanceof Number) {\n\t            value = Number(value);\n\t        } else if (value instanceof String) {\n\t            value = String(value);\n\t        } else if (value instanceof Boolean) {\n\t            value = value.valueOf();\n\t        }\n\n\t        switch (value) {\n\t        case null: return 'null'\n\t        case true: return 'true'\n\t        case false: return 'false'\n\t        }\n\n\t        if (typeof value === 'string') {\n\t            return quoteString(value, false)\n\t        }\n\n\t        if (typeof value === 'number') {\n\t            return String(value)\n\t        }\n\n\t        if (typeof value === 'object') {\n\t            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n\t        }\n\n\t        return undefined\n\t    }\n\n\t    function quoteString (value) {\n\t        var quotes = {\n\t            \"'\": 0.1,\n\t            '\"': 0.2,\n\t        };\n\n\t        var replacements = {\n\t            \"'\": \"\\\\'\",\n\t            '\"': '\\\\\"',\n\t            '\\\\': '\\\\\\\\',\n\t            '\\b': '\\\\b',\n\t            '\\f': '\\\\f',\n\t            '\\n': '\\\\n',\n\t            '\\r': '\\\\r',\n\t            '\\t': '\\\\t',\n\t            '\\v': '\\\\v',\n\t            '\\0': '\\\\0',\n\t            '\\u2028': '\\\\u2028',\n\t            '\\u2029': '\\\\u2029',\n\t        };\n\n\t        var product = '';\n\n\t        for (var i = 0; i < value.length; i++) {\n\t            var c = value[i];\n\t            switch (c) {\n\t            case \"'\":\n\t            case '\"':\n\t                quotes[c]++;\n\t                product += c;\n\t                continue\n\n\t            case '\\0':\n\t                if (util.isDigit(value[i + 1])) {\n\t                    product += '\\\\x00';\n\t                    continue\n\t                }\n\t            }\n\n\t            if (replacements[c]) {\n\t                product += replacements[c];\n\t                continue\n\t            }\n\n\t            if (c < ' ') {\n\t                var hexString = c.charCodeAt(0).toString(16);\n\t                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n\t                continue\n\t            }\n\n\t            product += c;\n\t        }\n\n\t        var quoteChar = quote || Object.keys(quotes).reduce(function (a, b) { return (quotes[a] < quotes[b]) ? a : b; });\n\n\t        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n\t        return quoteChar + product + quoteChar\n\t    }\n\n\t    function serializeObject (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var keys = propertyList || Object.keys(value);\n\t        var partial = [];\n\t        for (var i = 0, list = keys; i < list.length; i += 1) {\n\t            var key = list[i];\n\n\t            var propertyString = serializeProperty(key, value);\n\t            if (propertyString !== undefined) {\n\t                var member = serializeKey(key) + ':';\n\t                if (gap !== '') {\n\t                    member += ' ';\n\t                }\n\t                member += propertyString;\n\t                partial.push(member);\n\t            }\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '{}';\n\t        } else {\n\t            var properties;\n\t            if (gap === '') {\n\t                properties = partial.join(',');\n\t                final = '{' + properties + '}';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                properties = partial.join(separator);\n\t                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\n\t    function serializeKey (key) {\n\t        if (key.length === 0) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        var firstChar = String.fromCodePoint(key.codePointAt(0));\n\t        if (!util.isIdStartChar(firstChar)) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        for (var i = firstChar.length; i < key.length; i++) {\n\t            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n\t                return quoteString(key, true)\n\t            }\n\t        }\n\n\t        return key\n\t    }\n\n\t    function serializeArray (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var partial = [];\n\t        for (var i = 0; i < value.length; i++) {\n\t            var propertyString = serializeProperty(String(i), value);\n\t            partial.push((propertyString !== undefined) ? propertyString : 'null');\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '[]';\n\t        } else {\n\t            if (gap === '') {\n\t                var properties = partial.join(',');\n\t                final = '[' + properties + ']';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                var properties$1 = partial.join(separator);\n\t                final = '[\\n' + indent + properties$1 + ',\\n' + stepback + ']';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\t};\n\n\tvar JSON5 = {\n\t    parse: parse,\n\t    stringify: stringify,\n\t};\n\n\tvar lib = JSON5;\n\n\tvar es5 = lib;\n\n\treturn es5;\n\n})));\n"],"names":["copy","JSONExt","deepCopy","AJV_DEFAULT_OPTIONS","strict","RECORD_SEPARATOR","String","fromCharCode","DefaultSchemaValidator","constructor","this","_composer","useDefaults","_validator","addSchema","validateData","plugin","populate","validate","getSchema","id","compose","schema","type","instancePath","keyword","schemaPath","message","_addSchema","user","raw","error","SyntaxError","column","description","lineNumber","errors","composite","data","composer","validator","validateSchema","removeSchema","SettingRegistry","options","plugins","Object","create","_pluginChanged","Signal","_ready","Promise","resolve","_transformers","_unloadedPlugins","Map","connector","_timeout","timeout","filter","forEach","set","_preload","pluginChanged","get","key","undefined","load","then","forceTransform","_load","_transform","emit","Settings","registry","has","delete","reload","fetched","fetch","remove","Private","annotatedPlugin","_save","value","transform","transforms","transformers","Error","name","DisposableDelegate","upload","_validate","output","index","push","console","warn","join","all","map","async","_a","save","phase","started","Date","getTime","elapsed","transformed","call","setTimeout","BaseSettings","_schema","isDefault","properties","defaultValue","default","deepEqual","emptyObject","emptyArray","reifyDefault","super","_changed","_isDisposed","connect","_onPluginChanged","changed","isDisposed","isModified","version","annotatedDefaults","dispose","clearData","sender","reconcileMenus","reference","addition","addNewItems","merged","menu","refIndex","findIndex","ref","items","reconcileItems","item","submenu","_b","command","selector","args","filterDisabledItems","reduce","final","disabled","reconcileShortcuts","defaults","memo","shortcut","keys","CommandRegistry","normalizeKeys","s","concat","reconcileToolbarItems","indent","nondescript","untitled","body","acc","val","idx","rows","split","length","trim","indexOf","prefix","source","pre","root","definitions","_c","_d","result","props","property","replace","reified","prop","title","sort","a","b","localeCompare","Math","max","repeat","JSON","stringify","str","defaultDocumentedValue","attribute","documentedValue","ISettingRegistry","Token","defineProperty","exports","MissingRefError","ValidationError","CodeGen","Name","nil","_","KeywordCxt","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","_addVocabularies","v","addVocabulary","opts","discriminator","addKeyword","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","module","validate_1","enumerable","codegen_1","validation_error_1","ref_error_1","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","test","toString","emptyStr","names","code","_items","_str","c","_names","strs","i","plus","expr","res","mergeExprItems","splice","optimize","arg","x","Array","isArray","slice","c1","c2","rx","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","AnyCode","ParentNode","nodes","n","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","e","ns","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","Return","Try","catch","finally","Catch","Finally","replaceName","some","par","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","scopeName","scopeValue","prefixOrName","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","_constant","const","let","assign","object","keyValues","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","forRange","forOf","arr","forIn","obj","ownProperties","tryBody","catchCode","finallyCode","_currNode","block","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","N1","N2","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","nameStr","setValue","itemIndex","scopePath","line","scope","valueKey","vs","_name","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","addError","gen","errObj","err","if","vErrors","returnErrors","it","errs","validateName","schemaEnv","$async","throw","return","schemaType","cxt","errorPaths","overrideAllErrors","compositeRule","allErrors","errorObjectCode","errsCount","schemaValue","errorPath","errSchemaPath","verbose","E","params","propertyName","parentSchema","createErrors","errorInstancePath","errorSchemaPath","topSchemaRef","messages","extraErrorProps","errorObject","instPath","getErrorPath","Type","Str","schPath","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","resolve_1","env","dynamicAnchors","schemaId","baseId","normalizeId","localRefs","sch","_sch","rootId","getFullPath","uriResolver","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","jtd","self","sourceCode","_compilations","validateFunctionCode","validateCode","process","Function","makeValidate","scopeValues","unevaluated","evaluated","dynamicProps","dynamicItems","logger","inlineOrCompile","inlineRef","inlineRefs","schEnv","s2","s1","schemas","p","parse","refPath","_getFullPath","getJsonPointer","schOrRef","schId","resolveUrl","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","partSchema","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","json","jsonPos","jsonLen","jsonPart","resolver","msg","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","_resolve","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","jsonTypes","groups","number","rules","string","array","types","integer","boolean","null","post","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","hash","decodeURIComponent","encodeURIComponent","xs","f","snippets","mode","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","shouldUseGroup","group","rule","shouldUseRule","definition","implements","kwd","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","schemaCode","valid","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","ts","every","includes","nullable","coerceTo","coerceTypes","t","COERCIBLE","coerceToTypes","checkTypes","wrongType","strictNumbers","Wrong","dataType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","assignDefault","childData","ty","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","validateFunction","funcSourceUrl","dynamicRef","destructureValCxtES5","destructureValCxt","schemaCxtHasRules","isSchemaObj","checkKeywords","ignoreKeywordsWithRef","checkRefsAndKeywords","typeAndKeywords","schemaKeywords","commentKeyword","$comment","rootName","typeErrors","groupKeywords","iterateKeywords","strictTypes","includesType","strictTypesError","withTypes","narrowSchemaTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","keywordCode","checkNoDefault","resetEvaluated","assignEvaluated","returnResults","topSchemaObjCode","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","successAction","failAction","failResult","pass","fail","fail$data","invalid$data","append","errorParams","setParams","_error","$dataError","reset","ok","block$data","codeBlock","$dataValid","check$data","st","wrong$DataType","validateSchemaRef","invalid$DataSchema","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","updateContext","checkAsyncSchema","subSchemaObjCode","subschemaCode","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","matches","exec","up","errorMsg","segments","segment","pointerType","modifyData","useKeyword","macroSchema","macro","schemaRef","checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","passSchema","callValidateCode","modifying","reportErrs","ruleErrs","try","validateAsync","validateErrs","validateSync","addErrs","deps","dependencies","prototype","hasOwnProperty","errorsText","schemaProp","dpType","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","compile_1","codegen_2","$dataRefSchema","uri_1","defaultRegExp","flags","RegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","requiredOptions","o","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_optz","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","noLogs","log","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","_removeAllSchemas","clear","cacheKey","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","addFormat","separator","dataVar","text","keywordsJsonPointers","seg","schemaOrData","regex","startsWith","_compileMetaSchema","currentOpts","checkOpts","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","uri","ajv","validation","validateAdditionalItems","break","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isOwnProperty","usePattern","isAdditional","schCxt","validateUnion","min","minContains","maxContains","next","validateItemsWithCount","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","l","fullTuple","minItems","maxItems","checkStrictTuple","prefixItems","passing","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","checkMatchingProperties","pat","validateProperties","alwaysValid","validatePatternProperties","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","newRegExp","pattern","u","validArr","notValid","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","required","addMapping","enum","tagValue","getMapping","Mapping","validateMapping","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","equal_1","useLoop","eql","getEql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","j","itemTypes","loopN","indices","for","loopN2","outer","cb","_traverse","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","propertyNames","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","createCommonjsModule","fn","_global","global","window","__g","_core","__e","_isObject","_anObject","TypeError","_fails","_descriptors","document","is","createElement","_ie8DomDefine","dP","_objectDp","O","P","Attributes","S","valueOf","_toPrimitive","_hide","bitmap","configurable","writable","_propertyDesc","_has","px","random","_shared","SHARED","store","copyright","_functionToString","_redefine","SRC","_uid","TO_STRING","TPL","inspectSource","safe","isFunction","_ctx","that","_aFunction","apply","arguments","PROTOTYPE","$export","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","target","expProto","U","W","R","_export","ceil","floor","_toInteger","isNaN","$at","_defined","codePointAt","$fromCodePoint","fromCodePoint","arguments$1","aLen","RangeError","parseState","stack","token","lexState","buffer","doubleQuote","sign","Space_Separator","ID_Start","ID_Continue","util","isSpaceSeparator","isIdStartChar","isIdContinueChar","isDigit","isHexDigit","internalize","holder","reviver","replacement","key$1","replacement$1","lex","peek","lexStates","read","newToken","comment","invalidChar","multiLineComment","multiLineCommentAsterisk","singleLineComment","literal","NaN","identifierNameStartEscape","unicodeEscape","invalidIdentifier","identifierName","identifierNameEscape","zero","decimalInteger","Number","decimalPointLeading","decimalPoint","decimalFraction","decimalExponent","decimalExponentSign","decimalExponentInteger","hexadecimal","hexadecimalInteger","parseInt","hexEscape","escape","formatChar","separatorChar","start","beforePropertyName","afterPropertyName","beforePropertyValue","afterPropertyValue","beforeArrayValue","afterArrayValue","end","list","parseStates","invalidEOF","current","syntaxError","replacements","hexString","substring","columnNumber","replacer","space","propertyList","replacerFunc","quote","gap","substr","serializeProperty","toJSON5","toJSON","Boolean","quoteString","stepback","partial","propertyString","properties$1","serializeArray","member","serializeKey","serializeObject","quotes","product","quoteChar","firstChar","factory"],"sourceRoot":""}